<app-topnav (toSwitchLeftNav)="switchLeftNav($event)"></app-topnav>
<app-leftnav #leftNav (installApp)="installApp($event)" (login)="showLoginForm($event)"></app-leftnav>
<main class="douyin">
    <router-outlet></router-outlet>
</main>

<section class="wrap-loading" *ngIf="loading[0]===true">
    <img src="{{loading[1]}}" alt="">
</section>

<section id="section-login" class="loader flex justify-center items-center" *ngIf="displayLogin===true">
    <div class="panel bg-white w-1/3 p-3">
        <div class="wrap-close">
            <i class="bi bi-x-lg icon-close" (click)="displayLogin=false"></i>
        </div>
        <div>
            <h2 class="text-center mb-3">Se connecter</h2>
            <form #loginForm="ngForm" (ngSubmit)="toLogin($event.target)" id="login-form">
                <div class="mb-2">
                    <div class="wrap-field">
                        <input type="email" name="email" placeholder="Mail" #email [(ngModel)]="user.email" required>
                    </div>
                </div>
                <div class="mb-2">
                    <div class="wrap-field">
                        <input type="{{user.passwordType}}" name="password" placeholder="Mot de passe" autocomplete="off" #password [(ngModel)]="user.password" required>
                    </div>
                </div>
                <div>
                    <button type="submit" [disabled]="loginForm.form.invalid">Connexion</button>
                </div>
            </form>
        </div>
    </div>
</section>

<app-alert #alert></app-alert>